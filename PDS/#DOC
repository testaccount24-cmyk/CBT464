1

















                         ISPF Dialog Manager Assembler Macros
                                     Version 2.0













                                                   Bob Zimmerman
                                                   Development Technical Support
                                                   CNA Insurance
                                                   CNA Plaza - 8cs
                                                   Chicago, Illinois 60685
                                                   (312) 822 - 5719
1


      ISPF Dialog Manager Assembler Macros                                Page i




                                                               TABLE OF CONTENTS
+                                                              _________________







      ISPF Dialog Manager Assembler Macros - Overview . . . . . . . . . . . .  1

           About Version 2.0  . . . . . . . . . . . . . . . . . . . . . . . .  2

           Compatability and Restrictions . . . . . . . . . . . . . . . . . .  3



      ISPF Dialog Manager Assembler Macros - General Syntax . . . . . . . . .  4

           General Syntax . . . . . . . . . . . . . . . . . . . . . . . . . .  5

           Macro Format (Standard, List and Execute form) . . . . . . . . . .  6

           Accessing ISPLINK and ISPEXEC (CALL, LINK or LOAD) . . . . . . . .  7



      ISPF Dialog Manager Assembler Macros - ISPF Macro . . . . . . . . . . .  8

           Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  9

           ISPF DELETE  . . . . . . . . . . . . . . . . . . . . . . . . . . . 10

           ISPF LOAD  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12

           ISPF PARMS . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14

           ISPF SET . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17

           ISPF SUPPRESS  . . . . . . . . . . . . . . . . . . . . . . . . . . 18



      ISPF Dialog Manager Assembler Macros - Macro Syntax . . . . . . . . . . 20

           BROWSE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21

           CONTROL  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23

           DISPLAY  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24

           EDIT . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25

           FTCLOSE  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27

           FTERASE  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
1


      ISPF Dialog Manager Assembler Macros                               Page ii




           FTINCL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29

           FTOPEN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30

           GETMSG . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31

           ISPEXEC  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33

           ISREDIT  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35

           LOG  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36

           SELECT . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37

           SETMSG . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39

           TBADD  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40

           TBBOTTOM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41

           TBCLOSE  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43

           TBCREATE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45

           TBDELETE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47

           TBDISPL  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 48

           TBEND  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50

           TBERASE  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51

           TBEXIST  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52

           TBGET  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53

           TBMOD  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54

           TBOPEN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55

           TBPUT  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56

           TBQUERY  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57

           TBSARG . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58

           TBSAVE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59

           TBSCAN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60

           TBSKIP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 62

           TBSORT . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63

           TBSTATS  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 64
1


      ISPF Dialog Manager Assembler Macros                              Page iii




           TBTOP  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 66

           TBVCLEAR . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67

           VCOPY  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68

           VDEFINE  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 70

           VDELETE  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72

           VGET . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73

           VPUT . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74

           VREPLACE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 75

           VRESET . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 76



      ISPF Dialog Manager Assembler Macros - Library Access Services  . . . . 77

           LMCLOSE  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78

           LMERASE  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 79

           LMFREE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80

           LMGET  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81

           LMINIT . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82

           LMMADD . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84

           LMMDEL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85

           LMMFIND  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86

           LMMLIST  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87

           LMMREN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88

           LMMREP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89

           LMOPEN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 90

           LMPUT  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91

           LMQUERY  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92



      ISPF Dialog Manager Assembler Macros - Appendices . . . . . . . . . . . 94

           Appendix A - Example Program . . . . . . . . . . . . . . . . . . . 95
1


      ISPF Dialog Manager Assembler Macros                               Page iv




           Appendix B - Using the macros with existing programs . . . . . . . 97
1


      ISPF Dialog Manager Assembler Macros                                Page 1










      _________________________________________________________________________
      |                                                                       |
      |                                                                       |
      |            ISPF Dialog Manager Assembler Macros - Overview            |
      |                              Version 2.0                              |
      |                                                                       |
      |_______________________________________________________________________|
1


      ISPF Dialog Manager Assembler Macros                                Page 2
      About Version 2.0



      _______________________
      |                     |
      |                     |
      |  About Version 2.0  |
      |                     |
      |_____________________|




      _________________________________________________________________________


      Because this is Version 2.0 of these macros, I am attempting to use them
      as often as possible in my own installation, so I may "debug" them as
      thoroughly as possible.  As IBM will attest, no amount of testing can take
      out all of the bugs in a given product. Therefore, I encourage any users
      making modifications or finding a bug to contact me.

      The following is a history of the modifications throughout releases:

            1.1 - Corrected internal dummy paramter problem.
                  In ISPF Version II, when passing a dummy parameter that is
                  expected to be numeric, for example, the TBSKIP operand, you
                  must pass 4 bytes of spaces. This was corrected wherever
                  applicable.

            2.0 - Add all LAS and ISPF Version II services and support Keywords.
                  TBSTATS, TBSORT and all LAS services are now supported.

                  A user now specifies the macro using keywords, not positional
                  parameters.  For example, instead of knowing the the 9th posi-
                  tional parameter of the LMINIT service is the dataset name, a
                  user can code DSN=.


                  In addition, all services are now invoked using keywords.
                  Instead of a user coding

                       TBQUERY ,,,,,,,,CRP

                  to retrieve the current CRP value, he must now code

                       TBQUERY POSITION=CRP

                  similar to the ISPEXEC interface.  The syntax of all macros
                  are now identical to CLIST syntax.  For compatability with
                  Version 1 of these macros, see the new macro ISPF SET in this
                  manual.
1


      ISPF Dialog Manager Assembler Macros                                Page 3
      Compatability and Restrictions



      ____________________________________
      |                                  |
      |                                  |
      |  Compatability and Restrictions  |
      |                                  |
      |__________________________________|




      _________________________________________________________________________


      The syntax of these macros has been designed so they are extremely flexi-
      ble, and can be used with existing applications with no modification to
      existing code.

      There is one restriction with the use of these macros:  Assembler Version
      H or later must be used because the internal symbols (global and local)
      are longer than 8 bytes. I used these long symbols to simplify mainte-
      nance.  In addition, they should not conflict with any other macro symbols
      currently in use at an installation.


      These macros support ISPF Version 2. They are fully compatible with ISPF
      Version 1.  The macro set with this release does not include all of the
      services available in ISPF Version 2. These services will be included in
      future releases.
1


      ISPF Dialog Manager Assembler Macros                                Page 4










      _________________________________________________________________________
      |                                                                       |
      |                                                                       |
      |         ISPF Dialog Manager Assembler Macros - General Syntax         |
      |                              Version 2.0                              |
      |                                                                       |
      |_______________________________________________________________________|
1


      ISPF Dialog Manager Assembler Macros                                Page 5
      General Syntax



      ____________________
      |                  |
      |                  |
      |  General Syntax  |
      |                  |
      |__________________|




      _________________________________________________________________________


      The ISPF Dialog Manager Assembler Macro syntax follows IBM conventions
      found in XA Supervisor Services and Macro Instructions (GC28-1154-0).  A
      synopsis of the important rules follows.


          1.  All parameters listed in lowercase are to be replaced with a user
              value.

          2.  All parameters listed in uppercase are coded as shown. No user
              symbol or value may be used.

          3.  All parameters aligned on the left margin are required.

          4.  All parameters indented from the left margin are optional.

          5.  When a dataset name is required as an operand, the macro expects
              standard TSO dsname syntax; i.e., dsname is either fully qualified
              within apostrophes or unquoted (TSO prefix is automatically
              inserted).


      NOTE: This manual does not include description of the ISPF service func-
            tions with the syntax of each macro.  For a full description of ISPF
            Services, see the IBM manual Interactive System Productivity Facil-
            ity - Dialog Management Services (SC34-2137-0).
1


      ISPF Dialog Manager Assembler Macros                                Page 6
      Macro Format (Standard, List and Execute form)



      ____________________________________________________
      |                                                  |
      |                                                  |
      |  Macro Format (Standard, List and Execute form)  |
      |                                                  |
      |__________________________________________________|




      _________________________________________________________________________


      Standard form of the macros generates an in-line parameter list for all
      calls to ISPLINK, like standard IBM macros.

      The list form of all ISPF macros would be a standard "CALL" parameter-
      list.  To simplify coding, the ISPF PARMS macro is provided to generate a
      common parameter-list for all of the ISPF macros.  See the documentation
      of ISPF PARMS macro in this manual for a full description of its uses.

      The execute form of any macro may be selected by using the MF=E or
      MF=(E,parmlist) keywords.  Parmlist is a symbol representing a list of
      fullwords used to create a standard parameter-list.  If parmlist is omit-
      ted, the default symbol SPFPARMS will be used.  This symbol is automati-
      cally generated, with the appropriate number of fullwords, when using the
      ISPF PARMS macro (documented elsewhere in this manual).

      The parmlist option of MF=(E,parmlist) is available for compatability rea-
      sons (in case you would like to incorporate these macros with existing
      code).

       ********  NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE  *********
       *                                                                    *
       *                                                                    *
       *   In general, only request the execute form of the macro if you    *
       *   are coding a reentrant program, or addressing a relocatable      *
       *   storage area; then I recommend the MF=E format of the macro.     *
       *   The MF=(E,parmlist) format was supplied for only to allow adding *
       *   these macros to existing programs!!!!                            *
       *                                                                    *
       *                                                                    *
       **********************************************************************
1


      ISPF Dialog Manager Assembler Macros                                Page 7
      Accessing ISPLINK and ISPEXEC (CALL, LINK or LOAD)



      ________________________________________________________
      |                                                      |
      |                                                      |
      |  Accessing ISPLINK and ISPEXEC (CALL, LINK or LOAD)  |
      |                                                      |
      |______________________________________________________|




      _________________________________________________________________________


      When invoking an ISPF service from a dialog program, ISPLINK or ISPEXEC
      may be accessed via a CALL, LINK, or LOAD.  Using the CALL macro requires
      the ISPLINK module to be included in the load module composite.  Most
      installations already have ISPLINK in its LPA and therefore this technique
      can be a waste of storage.  In addition, if in a future release of ISPF,
      ISPLINK is changed, you would have to relink all the existing dialogs.

      Using the LINK or LOAD macro eliminates the above problem.  My recommenda-
      tion is to do an initial LOAD of ISPLINK and save the entry address.

      I have designed each macro with the special keyword LOAD to specify where
      you have stored the entry address of the ISPLINK module.

      In addition, the ISPF LOAD and ISPF DELETE macros (documented in this man-
      ual) will LOAD and DELETE the ISPLINK module. Appendix A has a complete
      example of how a typical program would LOAD ISPLINK, access ISPF services
      and DELETE the ISPLINK module.
1


      ISPF Dialog Manager Assembler Macros                                Page 8










      _________________________________________________________________________
      |                                                                       |
      |                                                                       |
      |           ISPF Dialog Manager Assembler Macros - ISPF Macro           |
      |                              Version 2.0                              |
      |                                                                       |
      |_______________________________________________________________________|
1


      ISPF Dialog Manager Assembler Macros                                Page 9
      Overview



      ______________
      |            |
      |            |
      |  Overview  |
      |            |
      |____________|




      _________________________________________________________________________


      Certain common needs are found when coding any Dialog Program.  One need
      is the access to the ISPF interfaces ISPLINK and ISPEXEC.  The ISPF macro
      is designed as an 'environment' macro.  Some of its functions are listed
      below.


          1.  LOAD and DELETE the ISPF modules ISPLINK and ISPEXEC.

          2.  Generate the List form of all ISPF macros.

          3.  Supply all 'working-storage' needed for the ISPF environment.

          4.  Suppress the generation of constants for compatability with exist-
              ing programs.
              (e.g. DISPLAY DC CL8'DISPLAY')
1


      ISPF Dialog Manager Assembler Macros                               Page 10
      ISPF DELETE



      _________________
      |               |
      |               |
      |  ISPF DELETE  |
      |               |
      |_______________|




      This ISPF macro will issue a DELETE for the ISPLINK and ISPEXEC modules.
      This macro complements the ISPF LOAD macro used to LOAD the ISPLINK and
      ISPEXEC modules for program access.

      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede ISPF.
      ISPF
      b                  one or more blanks must follow ISPF.

      _________________________________________________________________________

      DELETE             DELETE: Required keyword coded as shown.

          ,ISPLINK=NO    default: YES
          ,ISPLINK=YES

          ,ISPEXEC=NO    default: NO
          ,ISPEXEC=YES


      _________________________________________________________________________

                         The parameters are explained as follows:

      DELETE             This keyword identifies the function of the ISPF
                         macro.

      ,ISPLINK=NO
      ,ISPLINK=YES       This parameter specifies whether the ISPLINK module
                         should be deleted or not. If it was never loaded it
                         must not be deleted.

                         The default is ISPLINK=YES. This corresponds to the
                         default for the ISPF LOAD macro. See Appendix A for
                         an example.

      ,ISPEXEC=NO
      ,ISPEXEC=YES       This parameter specifies whether the ISPEXEC module
                         should be deleted or not. If it was never loaded it
                         must not be deleted.

                         The default is ISPEXEC=NO. This corresponds to the
1


      ISPF Dialog Manager Assembler Macros                               Page 11
      ISPF DELETE



                         default for the ISPF LOAD macro. See Appendix A for
                         an example.


      _________________________________________________________________________

      Example 1:         Operation: Delete the ISPLINK module.

                                 ISPF DELETE

      Example 2:         Operation: Delete only the ISPEXEC module.

                                 ISPF DELETE,ISPLINK=NO,ISPEXEC=YES
1


      ISPF Dialog Manager Assembler Macros                               Page 12
      ISPF LOAD



      _______________
      |             |
      |             |
      |  ISPF LOAD  |
      |             |
      |_____________|




      This ISPF macro will issue a LOAD for the ISPLINK and ISPEXEC modules. In
      addition it will store the entry address(es) of ISPLINK and ISPEXEC into
      fullwords.

      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede ISPF.
      ISPF
      b                  one or more blanks must follow ISPF.

      _________________________________________________________________________

      LOAD               LOAD: Required keyword coded as shown.

          ,ISPLINK=NO
          ,ISPLINK=(YES,symbol)
                         symbol: Address of a fullword used to store ISPLINK
                         entry address.
                         default: (YES,ISPLINK)

          ,ISPEXEC=NO
          ,ISPEXEC=(YES,symbol)
                         symbol: Address of a fullword used to store ISPEXEC
                         entry address.
                         default: NO


      _________________________________________________________________________

                         The parameters are explained as follows:

      LOAD               This keyword identifies the function of the ISPF
                         macro.

      ,ISPLINK=NO
      ,ISPLINK=(YES,symbol)
                         This parameter specifies whether the ISPLINK module
                         should be loaded or not. After it is loaded, it will
                         store the entry address into the fullword at the
                         location of 'symbol'.

                         The default is ISPLINK=(YES,ISPLINK). The symbol
                         ISPLINK is generated by the ISPF PARMS macro. See
1


      ISPF Dialog Manager Assembler Macros                               Page 13
      ISPF LOAD



                         See Appendix A for an example.

      ,ISPEXEC=NO
      ,ISPEXEC=(YES,symbol)
                         This parameter specifies whether the ISPEXEC module
                         should be loaded or not. After it is loaded, it will
                         store the entry address into the fullword at the
                         location of 'symbol'.

                         The default is ISPEXEC=NO. The symbol ISPEXEC is
                         generated by the ISPF PARMS macro. See Appendix A
                         for an example.


      _________________________________________________________________________

      Example 1:         Operation: Load ISPLINK and store its entry point
                         into the fullword labeled ISPLINK.

                                 ISPF LOAD

      Example 2:         Operation: Load only the ISPEXEC module. Store its
                         entry point into the fullword labeled ISPFEP.

                                 ISPF LOAD,ISPLINK=NO,ISPEXEC=(YES,ISPFEP)
                         ISPFEP  DS   A               ISPEXEC ENTRY POINT
1


      ISPF Dialog Manager Assembler Macros                               Page 14
      ISPF PARMS



      ________________
      |              |
      |              |
      |  ISPF PARMS  |
      |              |
      |______________|




      For any dialog program, certain common working storage areas are required;
      for example, a fullword for the ISPLINK entry address.  In addition, a
      parameter-list is required when the execute form of any macros in this
      manual are used.  This macro generates all common working storage areas.

      NOTE: The parameter-list fields are only generated when an execute form of
            an ISPF Service macro is used. Then, it is generated to the length
            required by the largest parameter list required. See the description
            of the  MINIMUM keyword that follows for more.

      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede ISPF.
      ISPF
      b                  one or more blanks must follow ISPF.

      _________________________________________________________________________

      PARMS              PARMS: Required keyword coded as shown.

          ,LIST=symbol
                         symbol: Symbol used as label for parameter-list.
                         default: SPFPARMS.

          ,ISPLINK=NO
          ,ISPLINK=(YES,symbol)
                         symbol: Symbol used as label of fullword for ISPLINK
                         entry address.
                         default: (YES,ISPLINK)

          ,ISPEXEC=NO
          ,ISPEXEC=(YES,symbol)
                         symbol: Symbol used as label of fullword for ISPEXEC
                         entry address.
                         default: NO

          ,MINIMUM=number
                         number: Numeric value.

          ,LASTCC=symbol
                         symbol: Symbol used in equate to register 15.

          ,COUNT=number
1


      ISPF Dialog Manager Assembler Macros                               Page 15
      ISPF PARMS



          ,FULL=NO
          ,FULL=YES      default: NO


      _________________________________________________________________________

                         The parameters are explained as follows:

      PARMS              This keyword identifies the function of the ISPF
                         macro.

      ,LIST=symbol
                         This symbol specifies the label used for the
                         parameter list generated (if any).

                         When any macro in this manual is issued in its
                         execute form, it defaults to use the parameter-list
                         labeled SPFPARMS. Therefore the default value is
                         SPFPARMS.

      ,ISPLINK=NO
      ,ISPLINK=(YES,symbol)
                         Specifies whether or not to generate the fullword
                         used to store the ISPLINK entry point address.  See
                         the ISPF LOAD macro for more information.

                         The default is ISPLINK=(YES,ISPLINK). This corres-
                         ponds with the ISPF LOAD macro default.  See
                         Appendix A for an example.

      ,ISPEXEC=NO
      ,ISPEXEC=(YES,symbol)
                         Specifies whether or not to generate the fullword
                         used to store the ISPEXEC entry point address.  See
                         the ISPF LOAD macro for more information.

                         The default is ISPEXEC=NO. This corresponds with the
                         ISPF LOAD macro default.  See Appendix A for an
                         example.

      ,MINIMUM=number
                         Normally, this macro will only generate a parameter
                         list when it is needed (i.e., when an execute form
                         of these macros has been used). When it does generate
                         the parameter-list, it will only generate the amount
                         of fullwords required by the used programs. For
                         example, if the largest execute form macro used was
                         the SELECT macro, it requires only 3 fullwords. If
                         the largest execute form was the VDEFINE macro, it
                         requires 7 fullwords.

                         This keyword allows you to specify the minimum number
                         of fullwords to be used. In addition, it will force
                         the generation of the paramter list even if no
                         execute form of a macro has been used.
1


      ISPF Dialog Manager Assembler Macros                               Page 16
      ISPF PARMS



      ,LASTCC=symbol
                         This parameter is supplied to support earlier
                         versions of this macro.
                         It will generate an equate for the symbol to register
                         15. This allows the coding of "LTR symbol,symbol" as
                         apposed to "LTR 15,15".

      ,COUNT=number
                         This parameter should not be used. It is supplied to
                         support earlier versions of this macro.

      ,FULL=NO
      ,FULL=YES
                         This parameter should not be used. It is supplied to
                         support earlier versions of this macro.


      _________________________________________________________________________

      Example 1:         Operation: Request the default working-storage areas.

                                 ISPF PARMS

      Example 2:         Operation: Request a minimum of 4 fullwords in the
                         parameter list. Request the label for the ISPEXEC
                         module to be generated.

                                 ISPF PARMS,MINIMUM=4,ISPEXEC=YES
1


      ISPF Dialog Manager Assembler Macros                               Page 17
      ISPF SET



      ______________
      |            |
      |            |
      |  ISPF SET  |
      |            |
      |____________|




      In Version 2.0 of these macros, all services now support keyword. For
      example, to display a panel, the user codes

           DISPLAY PANEL='panel name'.

      In Version 1.0 of these macros, these same services were positional. The
      display of a panel would be coded as

           DISPLAY 'panel name'.

      This macro will allow the user to continue to maintain old programs using
      the Version 1.0 syntax. Its intended use is only for compatability.

      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede ISPF.
      ISPF
      b                  one or more blanks must follow ISPF.

      _________________________________________________________________________

      SET                SET: Required keyword coded as shown.

      ,LEVEL=1           LEVEL=1: Required as shown.


      _________________________________________________________________________

                         The parameters are explained as follows:

      SET                This keyword identifies the function of the ISPF
                         macro.

      ,LEVEL=1           This parameter specifies the version of these macros
                         that are being used in this assembly.


      _________________________________________________________________________

      Example 1:         Operation: Allow assembly of a program coded under
                         version 1.0 using the version 2.0 macros.

                               ISPF SET,LEVEL=1
1


      ISPF Dialog Manager Assembler Macros                               Page 18
      ISPF SUPPRESS



      ___________________
      |                 |
      |                 |
      |  ISPF SUPPRESS  |
      |                 |
      |_________________|




      Normally, when using any macro documented in this manual, that macro will
      generate a constant for the service invoked. For example, when issuing the
      DISPLAY macro, it will generate the constant

           DISPLAY DC CL8'DISPLAY'

      The ISPF SUPPRESS macro suppresses the automatic generation of a constant
      for compatability with existing programs.  Otherwise, its use is not
      recommended.

      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede ISPF.
      ISPF
      b                  one or more blanks must follow ISPF.

      _________________________________________________________________________

      SUPPRESS           SUPPRESS: Required keyword coded as shown.

      ,LIST=(keywords)   keywords: Any ISPF keyword supported by these macros.
      ,LIST=ALL          For example, DISPLAY, CANCEL, TBDISPL, etc.
                         ALL: will suppress all generation.


      _________________________________________________________________________

                         The parameters are explained as follows:

      SUPPRESS           This keyword identifies the function of the ISPF
                         macro.

      ,LIST=(keywords)
      ,LIST=ALL          This parameter specifies what constants should be
                         suppressed by the ISPF macro. Keyword may be listed
                         in a standard list form such as
                         ISPF SUPPRESS,LIST=(keyword1,keyword2,keyword3).
                         LIST=ALL suppresses all keywords.
1


      ISPF Dialog Manager Assembler Macros                               Page 19
      ISPF SUPPRESS



      _________________________________________________________________________

      Example 1:         Operation: Suppress the generation of the CONTROL,
                         ERRORS and CANCEL constants.

                               ISPF SUPPRESS,LIST=(CONTROL,ERRORS,CANCEL)

      Example 2:         Operation: Suppress the list of all constants.

                                 ISPF SUPPRESS,LIST=ALL
1


      ISPF Dialog Manager Assembler Macros                               Page 20










      _________________________________________________________________________
      |                                                                       |
      |                                                                       |
      |             ISPF Dialog Manager Assembler Macros - Syntax             |
      |                              Version 2.0                              |
      |                                                                       |
      |_______________________________________________________________________|
1


      ISPF Dialog Manager Assembler Macros                               Page 21
      BROWSE



      ____________
      |          |
      |          |
      |  BROWSE  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede BROWSE.
      BROWSE
      b                  one or more blanks must follow BROWSE.

      _________________________________________________________________________

          DATASET=dsn    dsn: Dsname enclosed in apostrophes or a
                         symbol addressing a 56 byte Dsname (TSO Syntax).

          ,VOLUME=vol    vol: Volser enclosed in apostrophes or a symbol
                         addressing a 6 byte volser.

          ,PASSWORD=pass pass: Password enclosed in apostrophes or a symbol
                         addressing an 8 byte password.

          ,PANEL=panel   panel: Panel name enclosed in apostrophes or a symbol
                         addressing an 8 byte panel name.

          ,DATAID=id     id: Dataid name enclosed in apostrophes or a symbol
                         addressing an 8 byte data id.

          ,MEMBER=member member: Member name enclosed in apostrophes or a
                         symbol addressing an 8 byte member.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 22
      BROWSE



      _________________________________________________________________________

      Example 1:         Operation: Invoke ISPF Browse against the dataset
                         'SYS1.MACLIB' which is in the system catalog.

                                 BROWSE DATASET='''SYS1.MACLIB'''

      Example 2:         Operation: Invoke ISPF Browse against the dataset
                         'userid.MY.DATA' on volume TESTE1 and use the execute
                         form of the macro. The default parmlist generated by
                         the ISPF PARMS macro will be used.

                                 BROWSE DATASET=DSNAME,VOLUME='TESTE1',  X
                                     MF=E
                         DSNAME  DC   CL56'MY.DATA'
1


      ISPF Dialog Manager Assembler Macros                               Page 23
      CONTROL



      _____________
      |           |
      |           |
      |  CONTROL  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede CONTROL.
      CONTROL
      b                  one or more blanks must follow CONTROL.

      _________________________________________________________________________

      type               type: Valid ISPF CONTROL type.
                         Examples: DISPLAY, NONDISPL, or ERRORS.

      ,mode              mode: Valid "mode" for CONTROL "type" specified.
                         Example: END or ENTER for CONTROL DISPLAY.

          ,linenum       linenum: Numeric value or symbol addressing a
                         fullword. Valid only for DISPLAY "type".

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Invoke the equivalent of
                         ISPEXEC CONTROL ERRORS CANCEL.

                                 CONTROL ERRORS,CANCEL

      Example 2:         Operation: Invoke the equivalent of
                         ISPEXEC CONTROL DISPLAY LINE START(4)

                                 CONTROL DISPLAY,LINE,4
                         or
                                 CONTROL DISPLAY,LINE,F4
                         F4      DC  F'4'
1


      ISPF Dialog Manager Assembler Macros                               Page 24
      DISPLAY



      _____________
      |           |
      |           |
      |  DISPLAY  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede DISPLAY.
      DISPLAY
      b                  one or more blanks must follow DISPLAY.

      _________________________________________________________________________

          PANEL=panel    panel: Panel name enclosed in apostrophes or a symbol
                         addressing an 8 byte panel name.

          ,MSG=msg       msg: Message name enclosed in apostrophes or a symbol
                         addressing an 8 byte message name.

          ,CURSOR=field  field: Field name enclosed in apostrophes or a symbol
                         addressing an 8 byte field name.

          ,CSRPOS=csrpos csrpos: Numeric cursor position or a symbol
                         addressing a fullword containing the cursor position.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Display panel named ABC.

                         LOOP    DISPLAY PANEL='ABC'

      Example 2:         Operation: Display panel ABC with the message name
                         found at label MSG.

                                 DISPLAY PANEL='ABC',MSG=MSG
                         MSG     DC  CL8'MSG001'
1


      ISPF Dialog Manager Assembler Macros                               Page 25
      EDIT



      __________
      |        |
      |        |
      |  EDIT  |
      |        |
      |________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede EDIT.
      EDIT
      b                  one or more blanks must follow EDIT.

      _________________________________________________________________________

          DATASET=dsn    dsn: Dsname enclosed in apostrophes or a symbol
                         addressing a 56 byte Dsname (TSO Syntax).

          ,VOLUME=vol    vol: Volser enclosed in apostrophes or a symbol
                         addressing a 6 byte volser.

          ,PASSWORD=pass pass: Password enclosed in apostrophes or a symbol
                         addressing an 8 byte password.

          ,PANEL=panel   panel: Panel name enclosed in apostrophes or a symbol
                         addressing an 8 byte panel name.

          ,MACRO=macro   macro: Macro name enclosed in apostrophes or a symbol
                         addressing an 8 byte initial macro.

          ,PROFILE=prof  prof: Edit profile name enclosed in apostrophes or a
                         symbol addressing an 8 byte edit profile.

          ,DATAID=id     id: Dataid name enclosed in apostrophes or a symbol
                         addressing an 8 byte dataid.

          ,MEMBER=mem    mem: Member name enclosed in apostrophes or a symbol
                         addressing an 8 byte member.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 26
      EDIT



      _________________________________________________________________________

      Example 1:         Operation: Invoke ISPF EDIT against 'SYS1.MACLIB'.
                         Use the "ASMB" profile name.

                                 EDIT DATASET='''SYS1.MACLIB''',         X
                                      PROFILE='ASMB'

      Example 2:         Operation: Invoke ISPF Edit against the dataset
                         'userid.MY.DATA' on volume TESTE1 and use the execute
                         form of the macro. The default parmlist generated by
                         the ISPF PARMS macro will be used. The default
                         profile will be used as well.

                                 EDIT  DATASET=DSNAME,VOLUME='TESTE1',MF=E
                         DSNAME  DC   CL56'MY.DATA'
1


      ISPF Dialog Manager Assembler Macros                               Page 27
      FTCLOSE



      _____________
      |           |
      |           |
      |  FTCLOSE  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede FTCLOSE.
      FTCLOSE
      b                  one or more blanks must follow FTCLOSE.

      _________________________________________________________________________

          NAME=member    member: Member name enclosed in apostrophes or a
                         symbol addressing an 8 byte member name.

          ,LIBRARY=lib   lib: DDname enclosed in apostrophes or a symbol
                         addressing an 8 byte DDname.

          ,NOREPL=keyw   keyw: Keyword NOREPL enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Close a File Tailoring output file that
                         was open with FTOPEN TEMP.

                                 FTCLOSE


      Example 2:         Operation: Close a File Tailoring output file. The
                         output should be routed to DDname 'OUTPUT' and the
                         member name should be ABC. If the member currently
                         exists, do not replace it.

                                 FTCLOSE NAME='ABC',LIBRARY=DDNAME,      X
                                      NOREPL='NOREPL'
                         DDNAME  DC   CL8'OUTPUT'
1


      ISPF Dialog Manager Assembler Macros                               Page 28
      FTERASE



      _____________
      |           |
      |           |
      |  FTERASE  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede FTERASE.
      FTERASE
      b                  one or more blanks must follow FTERASE.

      _________________________________________________________________________

      member             member: Member name enclosed in apostrophes or a
                         symbol addressing an 8 byte member name.

          ,LIBRARY=lib   lib: DDname enclosed in apostrophes or a symbol
                         addressing an 8 byte DDname.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Erase the member ABC from the file
                         currently allocated to ISPFILE.

                                 FTERASE 'ABC'

      Example 2:         Operation: Erase the member DEF from the file
                         allocated to DDname 'OUTPUT'. Using the execute form
                         of the macro.

                                 FTERASE MEMBER,LIBRARY=DDNAME,MF=E
                         MEMBER  DC   CL8'DEF'
                         DDNAME  DC   CL8'OUTPUT'
1


      ISPF Dialog Manager Assembler Macros                               Page 29
      FTINCL



      ____________
      |          |
      |          |
      |  FTINCL  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede FTINCL.
      FTINCL
      b                  one or more blanks must follow FTINCL.

      _________________________________________________________________________

      skeleton           skeleton: Skeleton name enclosed in apostrophes or a
                         symbol addressing an 8 byte skeleton name.

          ,NOFT=keyw     keyw: Keyword NOFT enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Include the skeleton ABC with File
                         Tailoring.

                                 FTINCL 'ABC'

      Example 2:         Operation: Include member ABC without File Tailoring.

                                 FTINCL SKELETN,NOFT=NOFTVAL
                         SKELETN DC   CL8'ABC'
                         NOFTVAL DC   CL8'NOFT'
1


      ISPF Dialog Manager Assembler Macros                               Page 30
      FTOPEN



      ____________
      |          |
      |          |
      |  FTOPEN  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede FTOPEN.
      FTOPEN
      b                  one or more blanks must follow FTOPEN.

      _________________________________________________________________________

          ,TEMP=keyw     keyw: Keyword TEMP enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Open a temporary file tailoring file.

                                 FTOPEN TEMP='TEMP'

      Example 2:         Operation: Open the file tailoring file. Use the
                         file currently allocated to ISPFILE.

                                 FTOPEN ,
1


      ISPF Dialog Manager Assembler Macros                               Page 31
      GETMSG



      ____________
      |          |
      |          |
      |  GETMSG  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede GETMSG.
      GETMSG
      b                  one or more blanks must follow GETMSG.

      _________________________________________________________________________

      MSG=msg            msg: Message name enclosed in apostrophes or a
                         symbol addressing an 8 byte message name.

          ,SHORTMSG=smsg smsg: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LONGMSG=lmsg  lmsg: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ALARM=alarm   alarm: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,HELP=help     help: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 32
      GETMSG



      _________________________________________________________________________

      Example 1:         Operation: Get the short and long message text for
                         the message called MSG001. Place the short message in
                         variable SHORT, the long message text in variable
                         LONG and the help panel name in HELP. No request for
                         the alarm status is desired.

                                 GETMSG MSG='MSG001',                    X
                                     SHORTMSG='SHORT',                   X
                                     LONGMSG='LONG',                     X
                                     HELP='HELP'

      Example 2:         Operation: Get the alarm status for message msg002.
                         Store its value in variable alarm. Use the execute
                         form of the macro.

                                 GETMSG MSG='MSG002',ALARM='ALARM',MF=E
1


      ISPF Dialog Manager Assembler Macros                               Page 33
      ISPEXEC



      _____________
      |           |
      |           |
      |  ISPEXEC  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede ISPEXEC.
      ISPEXEC
      b                  one or more blanks must follow ISPEXEC.

      _________________________________________________________________________

          length         length: Numeric value or symbol addressing a
                         fullword. Valid only when buffer is coded as a
                         symbol. Leave blank when coding the buffer parameter
                         as a literal. The macro will calculate the length
                         (see examples).

          ,buffer        buffer: ISPF ISPEXEC service keywords enclosed in
                         apostrophes or a symbol addressing a buffer area.
                         When coding a symbol, the length field (above) is
                         required.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 34
      ISPEXEC



      _________________________________________________________________________

      Example 1:         Operation: Display the panel PANEL1.

                                 ISPEXEC ,'DISPLAY PANEL(PANEL1)'

      Example 2:         Operation: Issue the ISPF CONTROL command to inhibit
                         split screen operation.

                                 ISPEXEC 80,THEBUFER
                         THEBUFER DC   CL80'CONTROL SPLIT DISABLE'

      Example 3:         Operation: Issue the ISPF CONTROL command to inhibit
                         split screen operation. This is the same as above.
                         In this example, the assembler will calculate the
                         length of the select buffer.

                                 ISPEXEC BUFLEN,BUFTEXT
                         BUFTEXT DC   C'CONTROL SPLIT DISABLE'
                         TEMP    EQU  *-BUFTEXT
                         BUFLEN  DC   A(TEMP)
1


      ISPF Dialog Manager Assembler Macros                               Page 35
      ISREDIT



      _____________
      |           |
      |           |
      |  ISREDIT  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede ISREDIT.
      ISREDIT
      b                  one or more blanks must follow ISREDIT.

      _________________________________________________________________________

          length         length: Numeric value or symbol addressing a
                         fullword. Valid only when buffer is coded as a
                         symbol. Leave blank when coding the buffer parameter
                         as a literal. The macro will calculate the length
                         (see examples).

          ,buffer        buffer: ISPF ISREDIT service keywords enclosed in
                         apostrophes or a symbol addressing a buffer area.
                         When coding a symbol, the length field (above) is
                         required.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Issue equivalent to CLIST ISREDIT MACRO.

                                 ISREDIT ,'MACRO (FLD1 FLD2) NOPROCESS'
1


      ISPF Dialog Manager Assembler Macros                               Page 36
      LOG



      _________
      |       |
      |       |
      |  LOG  |
      |       |
      |_______|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LOG.
      LOG
      b                  one or more blanks must follow LOG.

      _________________________________________________________________________

      MSG=msg            msg: Message name enclosed in apostrophes or a
                         symbol addressing an 8 byte message name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Log the message called MSG001.

                                 LOG MSG='MSG001'

      Example 2:         Operation: Log the message called MSG001. Same as
                         above example using a symbol to address the message
                         name.

                                 LOG MSG=MESSAGE
                         MESSAGE DC   CL8'MSG001'
1


      ISPF Dialog Manager Assembler Macros                               Page 37
      SELECT



      ____________
      |          |
      |          |
      |  SELECT  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede SELECT.
      SELECT
      b                  one or more blanks must follow SELECT.

      _________________________________________________________________________

          length         length: Numeric value or symbol addressing a
                         fullword. Valid only when buffer is coded as a
                         symbol. Leave blank when coding the buffer parameter
                         as a literal. The macro will calculate the length
                         (see examples).

          ,buffer        buffer: ISPF Select service keywords enclosed in
                         apostrophes or a symbol addressing a buffer area.
                         When coding a symbol, the length field (above) is
                         required.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 38
      SELECT



      _________________________________________________________________________

      Example 1:         Operation: Select the program called PGMA1.

                                 SELECT  ,'PGM(PGMA1)'

      Example 2:         Operation: Invoke the TSO command XYZ and specify
                         that a new shared pool is to be created.

                                 SELECT 80,SELBUF
                         SELBUF  DC   CL80'CMD(XYZ) NEWPOOL'

      Example 3:         Operation: Invoke the TSO command XYZ and specify
                         that a new shared pool is to be created. This is the
                         same as above. In this example, the assembler will
                         calculate the length of the select buffer.

                                 SELECT BUFLEN,BUFTEXT
                         BUFTEXT DC   C'CMD(XYZ) NEWPOOL'
                         TEMP    EQU  *-BUFTEXT
                         BUFLEN  DC   A(TEMP)
1


      ISPF Dialog Manager Assembler Macros                               Page 39
      SETMSG



      ____________
      |          |
      |          |
      |  SETMSG  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede SETMSG.
      SETMSG
      b                  one or more blanks must follow SETMSG.

      _________________________________________________________________________

      MSG=msg            msg: Message name enclosed in apostrophes or a symbol
                         addressing an 8 byte message name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Add message ABC001 to the next panel
                         displayed to the user.

                                 SETMSG MSG='ABC001'

      Example 2:         Operation: Add message ISPX001 to the next panel
                         displayed to a user. Use the execute form of the
                         macro.

                                 SETMSG MSG='ISPX001',MF=E
1


      ISPF Dialog Manager Assembler Macros                               Page 40
      TBADD



      ___________
      |         |
      |         |
      |  TBADD  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBADD.
      TBADD
      b                  one or more blanks must follow TBADD.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,SAVE=names    names: Name-list enclosed in apostrophes or a symbol
                         addressing a name-list.

          ,ORDER=keyw    ORDER: Keyword ORDER enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Add a row to the table TEMPTAB.

                                 TBADD 'TEMPTAB'

      Example 2:         Operation: Add a row to the table TEMPTAB. Use the
                         execute form of the macro. In addition, specify the
                         variable MYVAR as an extension variable and request
                         that the row be added in sort order.

                                 SETMSG TABLE,SAVE='(MYVAR)',            X
                                     ORDER=ORDER,MF=E
                         TABLE   DC   CL8'TEMPTAB'
                         ORDER   DC   CL8'ORDER'
1


      ISPF Dialog Manager Assembler Macros                               Page 41
      TBBOTTOM



      ______________
      |            |
      |            |
      |  TBBOTTOM  |
      |            |
      |____________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBBOTTOM.
      TBBOTTOM
      b                  one or more blanks must follow TBBOTTOM.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,SAVENAME=sn   sn: Variable name enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,ROWID=rn      rn: Variable name enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,NOREAD=keyw   keyw: Keyword NOREAD enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,POSITION=pos  pos: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 42
      TBBOTTOM



      _________________________________________________________________________

      Example 1:         Operation: Set the CRP of MYTAB to the bottom. In
                         addition, store the CRP into variable XYZ.

                                 TBBOTTOM TABLE,POSITION='XYZ'
                         TABLE   DC   CL8'MYTABL'

      Example 2:         Operation: Set the CRP of MYTAB to the bottom.
                         Requests that no variables are to be
                         retrieved.

                                 TBBOTTOM 'MYTAB',SAVE=VARNAME,          X
                                     NOREAD='NOREAD'
                         VARNAME DC   CL8' '
1


      ISPF Dialog Manager Assembler Macros                               Page 43
      TBCLOSE



      _____________
      |           |
      |           |
      |  TBCLOSE  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBCLOSE.
      TBCLOSE
      b                  one or more blanks must follow TBCLOSE.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,REPLCOPY      REPLCOPY: Optional keyword coded as shown.
          ,NEWCOPY       NEWCOPY:  Optional keyword coded as shown.
                         Do not enclose in apostrophes.
                         Select only one of these keywords.
                         Default: see ISPF Dialog Management Services manual.

          ,NAME=,alt     alt: Member name enclosed in apostrophes or a symbol
                         addressing an 8 byte member name.

          ,PAD=percent   percent: Numeric value or symbol addressing a
                         fullword.

          ,LIBRARY=lib   lib: DDname enclosed in apostrophes or a symbol
                         addressing an 8 byte DDname.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 44
      TBCLOSE



      _________________________________________________________________________

      Example 1:         Operation: Close the table. Save the member in the
                         file allocated to OUTPUT.

                                 TBCLOSE TABLE,LIBRARY='OUTPUT'
                         TABLE   DC   CL8'MYTABL'

      Example 2:         Operation: Close the table as a new member.
                         Pad the member by 10 percent.

                                 TBCLOSE 'MYTAB',NEWCOPY,PAD=10
1


      ISPF Dialog Manager Assembler Macros                               Page 45
      TBCREATE



      ______________
      |            |
      |            |
      |  TBCREATE  |
      |            |
      |____________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBCREATE.
      TBCREATE
      b                  one or more blanks must follow TBCREATE.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,KEYS=keylist  keylist: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

          ,NAMES=names   names: Name-list enclosed in apostrophes or a symbol
                         addressing a name-list.

          ,WRITE=keyw    keyw: Keyword WRITE or NOWRITE enclosed in apos-
                         trophes or a symbol addressing an 8 byte keyword.

          ,REPLACE=kyw   kyw: Keyword REPLACE enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LIBRARY=lib   lib: DDname enclosed in apostrophes or a symbol
                         addressing an 8 byte DDname.

          ,SHARE=shr     shr: Keyword SHARE enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 46
      TBCREATE



      _________________________________________________________________________

      Example 1:         Operation: Create a table called MYTAB. The table is
                         keyed by EMPLNO. The table contains the variable
                         NAME, ADDRESS and CITY.

                                 TBCREATE 'MYTAB',KEYS=KEYLIST,          X
                                     NAMES='(NAME ADDRESS CITY)',        X
                                     NOWRITE='NOWRITE'
                         KEYLIST DC    C'(EMPLNO)'

      Example 2:         Operation: Create a permanent table called MYTAB
                         with only the variable XYZ in it. There are no keys.

                                 TBCREATE 'MYTAB',NAMES='(XYZ)'
1


      ISPF Dialog Manager Assembler Macros                               Page 47
      TBDELETE



      ______________
      |            |
      |            |
      |  TBDELETE  |
      |            |
      |____________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBDELETE.
      TBDELETE
      b                  one or more blanks must follow TBDELETE.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Delete the current row from table XYZ.

                                 TBDELETE 'XYZ'
1


      ISPF Dialog Manager Assembler Macros                               Page 48
      TBDISPL



      _____________
      |           |
      |           |
      |  TBDISPL  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBDISPL.
      TBDISPL
      b                  one or more blanks must follow TBDISPL.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,PANEL=panel   panel: Panel enclosed in apostrophes or a symbol
                         addressing an 8 byte panel name.

          ,MSG=msg       msg: Message name enclosed in apostrophes or a symbol
                         addressing an 8 byte message name.

          ,CURSOR=field  field: Field name enclosed in apostrophes or a symbol
                         addressing an 8 byte field name.

          ,CSRROW=rownum rownum: Numeric value or symbol addressing a
                         fullword.

          ,CSRPOS=csrpos csrpos: Numeric value or symbol addressing a
                         fullword.

          ,AUTOSEL=keyw  keyw: Keywords YES or NO enclosed in apostrophes or
                         a symbol addressing the keyword.

          ,POSITION=pos  pos: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ROWID=rowid   rowid: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 49
      TBDISPL



      _________________________________________________________________________

      Example 1:         Operation: Display table TAB1 using panel PAN1.  MSG
                         will contain the name of any error messages that
                         should be issuted.

                                 TBDISPL 'TAB1',PANEL='PAN1',MSG=MSG
                         MSG     DS    CL8
1


      ISPF Dialog Manager Assembler Macros                               Page 50
      TBEND



      ___________
      |         |
      |         |
      |  TBEND  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBEND.
      TBEND
      b                  one or more blanks must follow TBEND.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: End the table TAB1.

                                 TBEND 'TAB1'
1


      ISPF Dialog Manager Assembler Macros                               Page 51
      TBERASE



      _____________
      |           |
      |           |
      |  TBERASE  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBERASE.
      TBERASE
      b                  one or more blanks must follow TBERASE.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,LIBRARY=lib   lib: DDname enclosed in apostrophes or a symbol
                         addressing an 8 byte DDname.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Erase member XYZ.

                                 TBERASE MEMNAME
                         MEMNAME DC    CL8'XYZ'
1


      ISPF Dialog Manager Assembler Macros                               Page 52
      TBEXIST



      _____________
      |           |
      |           |
      |  TBEXIST  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBEXIST.
      TBEXIST
      b                  one or more blanks must follow TBEXIST.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Determine if a row exists in a keyed
                         table MYTAB.

                                 TBEXIST 'MYTAB'
1


      ISPF Dialog Manager Assembler Macros                               Page 53
      TBGET



      ___________
      |         |
      |         |
      |  TBGET  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBGET.
      TBGET
      b                  one or more blanks must follow TBGET.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,SAVENAME=var  var: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ROWID=rowid   rowid: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,NOREAD=keyw   keyw: Keyword NOREAD enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,POSITION=pos  pos: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Get a row in the table MYTAB. Use the
                         execute form of the macros.

                                 TBGET 'MYTAB',MF=E
1


      ISPF Dialog Manager Assembler Macros                               Page 54
      TBMOD



      ___________
      |         |
      |         |
      |  TBMOD  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBMOD.
      TBMOD
      b                  one or more blanks must follow TBMOD.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,SAVE=namelist namelist: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

          ,ORDER=keyw    keyw: Keyword ORDER enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Modify a row in the table MYTAB. The
                         variables XY and ZZ are extension variables. Two
                         coding examples follow. The first generates all
                         storage constants for you.

                                 TBMOD 'MYTAB',SAVE='(XY ZZ)'

                                 TBMOD TABLE,SAVE=NAMES
                         TABLE   DC   CL8'MYTAB'
                         NAMES   DC   C'(XY ZZ)'
1


      ISPF Dialog Manager Assembler Macros                               Page 55
      TBOPEN



      ____________
      |          |
      |          |
      |  TBOPEN  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBOPEN.
      TBOPEN
      b                  one or more blanks must follow TBOPEN.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,WRITE=keyw    WRITE: Keywords WRITE or NOWRITE enclosed in apos-
                         trophes or a symbol addressing the keyword.

          ,LIBRARY=lib   lib: DDname enclosed in apostrophes or a symbol
                         addressing an 8 byte DDname.

          ,SHARE=keyw2   keyw2: Keyword SHARE enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Open the table named MYTAB for read only
                         and allow sharing between split screens.

                                 TBOPEN 'MYTAB',WRITE='NOWRITE',         X
                                     SHARE='SHARE'
1


      ISPF Dialog Manager Assembler Macros                               Page 56
      TBPUT



      ___________
      |         |
      |         |
      |  TBPUT  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBPUT.
      TBPUT
      b                  one or more blanks must follow TBPUT.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,SAVE=namelist namelist: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

          ,ORDER=keyw    keyw: Keyword ORDER enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Update the current row in the table MYTAB.

                                 TBPUT 'MYTAB'
1


      ISPF Dialog Manager Assembler Macros                               Page 57
      TBQUERY



      _____________
      |           |
      |           |
      |  TBQUERY  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBQUERY.
      TBQUERY
      b                  one or more blanks must follow TBQUERY.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,KEYS=keyname  keyname: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,NAMES=varname varname: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ROWNUM=rownum rownum: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,KEYNUM=keynum keynum: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,NAMENUM=namen namen: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,POSITION=crp  crp: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Return the current CRP for table XYZ in
                         variable CRPVAR.

                                 TBQUERY 'XYZ',POSITION='CRPVAR'
1


      ISPF Dialog Manager Assembler Macros                               Page 58
      TBSARG



      ____________
      |          |
      |          |
      |  TBSARG  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBSARG.
      TBSARG
      b                  one or more blanks must follow TBSARG.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,ARGLIST=names names: Name-list enclosed in apostrophes or a symbol
                         addressing a name-list.

          ,DIRECTION=dir dir: Keywords NEXT or PREVIOUS enclosed in apos-
                         trophes or a symbol addressing the keyword.

          ,NAMECOND=nc   nc: Condition list enclosed in apostrophes or a
                         symbol addressing a condition list.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Set a search argument in table MYTAB.
                         Scan the table backwards.

                                 TBSARG 'MYTAB',DIRECTION='PREVIOUS'
1


      ISPF Dialog Manager Assembler Macros                               Page 59
      TBSAVE



      ____________
      |          |
      |          |
      |  TBSAVE  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBSAVE.
      TBSAVE
      b                  one or more blanks must follow TBSAVE.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,REPLCOPY      REPLCOPY: Optional keyword coded as shown.
          ,NEWCOPY       NEWCOPY:  Optional keyword coded as shown.
                         Do not enclose in apostrophes.
                         Select only one of these keywords.
                         Default: see ISPF Dialog Management Services manual.

          ,NAME=altname  altname: Member name enclosed in apostrophes or a
                         symbol addressing an 8 byte member name.

          ,PAD=percent   percent: Numeric value or symbol addressing a
                         fullword.

          ,LIBRARY=lib   lib: DDname enclosed in apostrophes or a symbol
                         addressing an 8 byte DDname.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Save the current table MYTAB. If it
                         currently exists, replace it with this version and
                         pad 25 percent space to the new version. Use the
                         execute form of the macro.

                                 TBSAVE 'MYTAB',REPLCOPY,PAD=PERCENT
                         PERCENT DC    F'25'
1


      ISPF Dialog Manager Assembler Macros                               Page 60
      TBSCAN



      ____________
      |          |
      |          |
      |  TBSCAN  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBSCAN.
      TBSCAN
      b                  one or more blanks must follow TBSCAN.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,ARGLIST=args  args: Name-list enclosed in apostrophes or a symbol
                         addressing a name-list.

          ,SAVENAME=sn   sn: Variable name enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,ROWID=rowid   rowid: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,DIRECTION=dir dir: Keywords NEXT or PREVIOUS enclosed in apos-
                         trophes or a symbol addressing the keyword.

          ,NOREAD=keyw   keyw: Keyword NOREAD enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,POSITION=pos  pos: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,CONDLIST=cl   cl: Condition list enclosed in apostrophes or a
                         symbol addressing a condition list.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 61
      TBSCAN



      _________________________________________________________________________

      Example 1:         Operation: Scan the table MYTAB using the variables
                         XY and ZZ. Default all other values. Use the execute
                         form of the macro.

                                 TBSCAN 'MYTAB',SAVE='(XY ZZ)',MF=E
1


      ISPF Dialog Manager Assembler Macros                               Page 62
      TBSKIP



      ____________
      |          |
      |          |
      |  TBSKIP  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBSKIP.
      TBSKIP
      b                  one or more blanks must follow TBSKIP.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,NUMBER=number number: Numeric value or symbol addressing a
                         fullword. For negative values, the symbol form must
                         be used.

          ,SAVENAME=sn   sn: Variable name enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,ROWID=rowid   rowid: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ROW=row       row: Numeric value or symbol addressing a fullword.

          ,NOREAD=keyw   keyw: Keyword NOREAD enclosed in apostrophes or a
                         symbol addressing the keyword.

          ,POSITION=pos  pos: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Skip forward 2 rows in table MYTAB.

                                 TBSKIP 'MYTAB',NUMBER=2
1


      ISPF Dialog Manager Assembler Macros                               Page 63
      TBSORT



      ____________
      |          |
      |          |
      |  TBSORT  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBSORT.
      TBSORT
      b                  one or more blanks must follow TBSORT.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

      ,FIELDS=sort-list  sort-list: List of Sort keys as described in the
                         ISPF Dialog Manager manual. The actual list may be
                         specified enclosed in apostrophes or a symbol that
                         addresses a sort-list may be specified.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Sort table ABC on fields ZIP and Name.

                                 TBSORT 'ABC',                          X
                                         FIELDS='(ZIP,N,A,NAME,C,A)
1


      ISPF Dialog Manager Assembler Macros                               Page 64
      TBSTATS



      _____________
      |           |
      |           |
      |  TBSTATS  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBSTATS.
      TBSTATS
      b                  one or more blanks must follow TBSTATS.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,CDATE=cdate   cdate: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,CTIME=ctime   ctime: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,UDATE=udate   udate: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,UTIME=utime   utime: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,USER=user     user: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ROWCREAT=rowv rowv: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ROWCURR=rowcu rowcu: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ROWUPD=rowupd rowupd: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,TABLEUPD=tabu tabu: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,SERVICE=serv  serv: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,RETCODE=rc    rc: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.
1


      ISPF Dialog Manager Assembler Macros                               Page 65
      TBSTATS



          ,STATUS1=s1    s1: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,STATUS2=s2    s2: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,STATUS3=s3    s3: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LIBRARY=dd    dd: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Determine if table ABC is open in write
                         mode.

                                 TBSTATS 'ABC',STATUS1='ST1',           X
                                       STATUS2='ST2'
1


      ISPF Dialog Manager Assembler Macros                               Page 66
      TBTOP



      ___________
      |         |
      |         |
      |  TBTOP  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBTOP.
      TBTOP
      b                  one or more blanks must follow TBTOP.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Set the current CRP of table MYTAB to top
                         of the table.

                                 TBTOP TABLE
                         TABLE   DC    CL8'MYTAB'
1


      ISPF Dialog Manager Assembler Macros                               Page 67
      TBVCLEAR



      ______________
      |            |
      |            |
      |  TBVCLEAR  |
      |            |
      |____________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede TBVCLEAR.
      TBVCLEAR
      b                  one or more blanks must follow TBVCLEAR.

      _________________________________________________________________________

      table              table: Table name enclosed in apostrophes or a symbol
                         addressing an 8 byte table name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Clear the current row in table MYTAB.

                                 TBVCLEAR 'MYTAB'
1


      ISPF Dialog Manager Assembler Macros                               Page 68
      VCOPY



      ___________
      |         |
      |         |
      |  VCOPY  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede VCOPY.
      VCOPY
      b                  one or more blanks must follow VCOPY.

      _________________________________________________________________________

      name-list          name-list: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

      ,(lengths)         (lengths): Numeric value or a list of numeric values;
                         or a symbol addressing an array of fullwords.

                         NOTE: The VCOPY service updates this array to reflect
                         the length of data copied! This macro is not reusable
                         when coding numeric values in place of a symbol.

      ,value-array       value-array: Symbol addressing storage area mapping
                         the variables in the name-list.

          ,MOVE          MOVE: Optional keyword coded as shown.
          ,LOCATE        LOCATE:  Optional keyword coded as shown.
                         Do not enclose in apostrophes.
                         Select only one of these keywords.
                         Default: see ISPF Dialog Management Services manual.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 69
      VCOPY



      _________________________________________________________________________

      Example 1:         Operation: Copy the variable ZUSER from the ISPF
                         pools into program storage. Copy only the address
                         of the variable.

                                 VCOPY '(ZUSER)',F4,ZUSERADD,LOCATE
                         ZUSERADD DS   A
                         F4       DC   F'4'
1


      ISPF Dialog Manager Assembler Macros                               Page 70
      VDEFINE



      _____________
      |           |
      |           |
      |  VDEFINE  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede VDEFINE.
      VDEFINE
      b                  one or more blanks must follow VDEFINE.

      _________________________________________________________________________

      name-list          name-list: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

      ,storage           storage: Symbol addressing storage area mapping the
                         variables in the name-list.

      ,CHAR              CHAR: Optional keyword coded as shown.
      ,FIXED             FIXED:  Optional keyword coded as shown.
      ,BIT               BIT:  Optional keyword coded as shown.
      ,HEX               HEX:  Optional keyword coded as shown.
      ,USER              USER:  Optional keyword coded as shown.
                         Do not enclose in apostrophes.
                         Select only one of these keywords.
                         Default: see ISPF Dialog Management Services manual.

      ,length            length: Numeric value or symbol addressing a
                         fullword.

          ,options       options: Option-list enclosed in apostrophes or a
                         symbol addressing an option list.

          ,userdata      userdata: Symbol addressing the user exit.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.
1


      ISPF Dialog Manager Assembler Macros                               Page 71
      VDEFINE



      _________________________________________________________________________

      Example 1:         Operation: VDEFINE the variables XX and UYZ. They
                         are character format. They are 10 bytes in length.
                         Request the COPY option of the Vdefine service.

                                 VDEFINE '(XX UYZ)',WORKAREA,            X
                                       CHAR,10,'(COPY)'
                         WORKAREA EQU  *
                         XX       DC   CL10' '
                         UYZ      DC   CL10' '
1


      ISPF Dialog Manager Assembler Macros                               Page 72
      VDELETE



      _____________
      |           |
      |           |
      |  VDELETE  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede VDELETE.
      VDELETE
      b                  one or more blanks must follow VDELETE.

      _________________________________________________________________________

      name-list          name-list: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: VDELETE variables XX and UYZ.

                                 VDELETE '(XX UYZ)'
1


      ISPF Dialog Manager Assembler Macros                               Page 73
      VGET



      __________
      |        |
      |        |
      |  VGET  |
      |        |
      |________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede VGET.
      VGET
      b                  one or more blanks must follow VGET.

      _________________________________________________________________________

      name-list          name-list: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

          ,ASIS          ASIS: Optional keyword coded as shown.
          ,SHARED        SHARED: Optional keyword coded as shown.
          ,PROFILE       PROFILE: Optional keyword coded as shown.
                         Do not enclose in apostrophes.
                         Select only one of these keywords.
                         Default: see ISPF Dialog Management Services manual.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: VGET variables XX and UYZ from the profile
                         pool.

                                 VGET '(XX UYZ)',PROFILE
1


      ISPF Dialog Manager Assembler Macros                               Page 74
      VPUT



      __________
      |        |
      |        |
      |  VPUT  |
      |        |
      |________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede VPUT.
      VPUT
      b                  one or more blanks must follow VPUT.

      _________________________________________________________________________

      name-list          name-list: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

          ,ASIS          ASIS: Optional keyword coded as shown.
          ,SHARED        SHARED: Optional keyword coded as shown.
          ,PROFILE       PROFILE: Optional keyword coded as shown.
                         Do not enclose in apostrophes.
                         Select only one of these keywords.
                         Default: see ISPF Dialog Management Services manual.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: VPUT variables XX and UYZ into the profile
                         pool.

                                 VPUT '(XX UYZ)',PROFILE
1


      ISPF Dialog Manager Assembler Macros                               Page 75
      VREPLACE



      ______________
      |            |
      |            |
      |  VREPLACE  |
      |            |
      |____________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede VREPLACE.
      VREPLACE
      b                  one or more blanks must follow VREPLACE.

      _________________________________________________________________________

      name-list          name-list: Name-list enclosed in apostrophes or a
                         symbol addressing a name-list.

      ,(lengths)         (lengths): Numeric value or a list of numeric values;
                         or a symbol addressing an array of fullwords.

      ,value-array       value-array: Symbol addressing storage area mapping
                         the variables in the name-list.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: VREPLACE variables XX and UYZ into the
                         function pool.

                                 VREPLACE '(XX UYZ)',(10,5),WORKAREA
                         WORKAREA EQU *
                         XX       DS  CL10
                         UYZ      DS  CL5
1


      ISPF Dialog Manager Assembler Macros                               Page 76
      VRESET



      ____________
      |          |
      |          |
      |  VRESET  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede VRESET.
      VRESET
      b                  one or more blanks must follow VRESET.

      _________________________________________________________________________

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Reset all variables in the current
                         function pool.

                                 VRESET ,
1


      ISPF Dialog Manager Assembler Macros                               Page 77










      _________________________________________________________________________
      |                                                                       |
      |                                                                       |
      |     ISPF Dialog Manager Assembler Macros - Library Access Services    |
      |                              Version 2.0                              |
      |                                                                       |
      |_______________________________________________________________________|
1


      ISPF Dialog Manager Assembler Macros                               Page 78
      LMCLOSE



      _____________
      |           |
      |           |
      |  LMCLOSE  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMCLOSE.
      LMCLOSE
      b                  one or more blanks must follow LMCLOSE.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid name enclosed in apostrophes or a
                         symbol addressing an 8 byte dataid name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Close the dataid found at symbol DATAID.

                                 LMCLOSE DATAID=DATAID
                         DATAID  DS    CL8
1


      ISPF Dialog Manager Assembler Macros                               Page 79
      LMERASE



      _____________
      |           |
      |           |
      |  LMERASE  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMERASE.
      LMERASE
      b                  one or more blanks must follow LMERASE.

      _________________________________________________________________________

      PROJECT=project    project: Project name enclosed in apostrophes or a
                         symbol addressing an 8 byte project name.

      ,GROUP=group       group: Group name enclosed in apostrophes or a
                         symbol addressing an 8 byte group name.

      ,TYPE=type         type: Type name enclosed in apostrophes or a
                         symbol addressing an 8 byte type name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Erase the file called 'A.B.C'

                                 LMERASE PROJECT='A',GROUP='B',TYPE='C'
1


      ISPF Dialog Manager Assembler Macros                               Page 80
      LMFREE



      ____________
      |          |
      |          |
      |  LMFREE  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMFREE.
      LMFREE
      b                  one or more blanks must follow LMFREE.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid name enclosed in apostrophes or a
                         symbol addressing an 8 byte dataid name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Free the dataid found at symbol DATAID.

                                 LMFREE DATAID=DATAID
                         DATAID  DS    CL8
1


      ISPF Dialog Manager Assembler Macros                               Page 81
      LMGET



      ___________
      |         |
      |         |
      |  LMGET  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMGET.
      LMGET
      b                  one or more blanks must follow LMGET.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid name enclosed in apostrophes or a
                         symbol addressing an 8 byte dataid.

      ,MODE=mode         mode: Mode enclosed in apostrophes or a symbol
                         addressing an 8 byte mode.

      ,DATALOC=dataloc   dataloc: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

      ,DATALEN=datalen   datalen: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

      ,MAXLEN=maxlen     maxlen: Numeric value or a symbol addressing a
                         fullword.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Get the record for dataid ABC. The record
                         should be stored in variable REC and the length of
                         the record should be stored in variable RECLEN. The
                         largest amount of data retrieved should be 80 bytes.

                                 LMGET DATAID='ABC',MODE='INVAR',        X
                                       DATALOC='REC',DATALEN='RECLEN',   X
                                       MAXLEN=80
1


      ISPF Dialog Manager Assembler Macros                               Page 82
      LMINIT



      ____________
      |          |
      |          |
      |  LMINIT  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMINIT.
      LMINIT
      b                  one or more blanks must follow LMINIT.

      _________________________________________________________________________

      DATAID=dataid      dataid: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,PROJECT=proj  proj: Project name enclosed in apostrophes or a
                         symbol addressing an 8 byte project name.

          ,GROUP1=g1     g1: Group name enclosed in apostrophes or a symbol
                         addressing an 8 byte group name.

          ,GROUP2=g2     g2: Group name enclosed in apostrophes or a symbol
                         addressing an 8 byte group name.

          ,GROUP3=g3     g3: Group name enclosed in apostrophes or a symbol
                         addressing an 8 byte group name.

          ,GROUP4=g4     g4: Group name enclosed in apostrophes or a symbol
                         addressing an 8 byte group name.

          ,TYPE=type     type: Type name enclosed in apostrophes or a symbol
                         addressing an 8 byte type name.

          ,DATASET=dsn   dsn: Dataset name enclosed in apostrophes or a
                         symbol addressing a 56 byte dataset name.

          ,DDNAME=ddname ddname: DDname name enclosed in apostrophes or a
                         symbol addressing an 8 byte DDname name.

          ,VOLUME=vol    vol: Volser enclosed in apostrophes or a symbol
                         addressing a 6 byte volser.

          ,PASSWORD=pass pass: Password enclosed in apostrophes or a symbol
                         addressing an 8 byte password.

          ,ENQ=enq       enq: Enq type enclosed in apostrophes or a symbol
                         addressing an 8 byte enq type.
1


      ISPF Dialog Manager Assembler Macros                               Page 83
      LMINIT



          ,ORG=orgvar    orgvar: Variable enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Issue an LMINIT for the libraries that are
                         currently allocated to ISPPLIB.

                                 LMINIT DATAID='PLIB',DDNAME='ISPPLIB'

      Example 2:         Operation: Invoke LMINIT for the dataset A.B.C. Use
                         the execute form of the macro.

                                 LMINIT DATAID='DSNID',DATASET=DSNAME,MF=E
                         DSNAME  DC   CL56'A.B.C'
1


      ISPF Dialog Manager Assembler Macros                               Page 84
      LMMADD



      ____________
      |          |
      |          |
      |  LMMADD  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMMADD.
      LMMADD
      b                  one or more blanks must follow LMMADD.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid enclosed in apostrophes or a symbol
                         addressing an 8 byte dataid.

          ,MEMBER=mem    mem: Member name enclosed in apostrophes or a symbol
                         addressing an 8 byte member name.

          ,STATS=stats   stats: YES or NO enclosed in apostrophes or a symbol
                         addressing an 8 byte field containing YES or NO.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Add member 'XYZ' to file.

                                 LMMADD DATAID='ABC',MEMBER='XYZ'
1


      ISPF Dialog Manager Assembler Macros                               Page 85
      LMMDEL



      ____________
      |          |
      |          |
      |  LMMDEL  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMMDEL.
      LMMDEL
      b                  one or more blanks must follow LMMDEL.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid enclosed in apostrophes or a symbol
                         addressing an 8 byte dataid.

          ,MEMBER=mem    mem: Member name enclosed in apostrophes or a symbol
                         addressing an 8 byte member name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Delete member 'XYZ'.

                                 LMMDEL DATAID='ABC',MEMBER='XYZ'
1


      ISPF Dialog Manager Assembler Macros                               Page 86
      LMMFIND



      _____________
      |           |
      |           |
      |  LMMFIND  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMMFIND.
      LMMFIND
      b                  one or more blanks must follow LMMFIND.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid enclosed in apostrophes or a symbol
                         addressing an 8 byte dataid.

          ,MEMBER=mem    mem: Member name enclosed in apostrophes or a symbol
                         addressing an 8 byte member name.

          ,LOCK='LOCK'   'LOCK': LOCK parameter enclosed in apostrophes as
                         shown.

          ,LRECL=lrecl   lrecl: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,RECFM=recfm   recfm: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,GROUP=group   group: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,STATS=stats   stats: YES or NO enclosed in apostrophes or a symbol
                         addressing an 8 byte field containing YES or NO.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Check to see if member XYZ exists.

                                 LMMFIND DATAID='ABC',MEMBER='XYZ'
1


      ISPF Dialog Manager Assembler Macros                               Page 87
      LMMLIST



      _____________
      |           |
      |           |
      |  LMMLIST  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMMLIST.
      LMMLIST
      b                  one or more blanks must follow LMMLIST.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid enclosed in apostrophes or a symbol
                         addressing an 8 byte dataid.

          ,OPTION=opt    opt: Option enclosed in apostrophes or a symbol
                         addressing an 8 byte option.

          ,MEMBER=memvar memvar: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,STATS=stats   stats: YES or NO enclosed in apostrophes or a symbol
                         addressing an 8 byte field containing YES or NO.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Request a member name be returned in the
                         variable MEMNAME and all ISPF statistics be returned
                         as well.

                                 LMMLIST DATAID='ABC',MEMBER='MEMNAME',  X
                                     STATUS='YES'

      Example 2:         Operation: Request all storage for the previous
                         LMMLIST be freed.

                                 LMMLIST DATAID='ABC',OPTION='FREE'
1


      ISPF Dialog Manager Assembler Macros                               Page 88
      LMMREN



      ____________
      |          |
      |          |
      |  LMMREN  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMMREN.
      LMMREN
      b                  one or more blanks must follow LMMREN.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid enclosed in apostrophes or a symbol
                         addressing an 8 byte dataid.

          ,MEMBER=mem    mem: Member name enclosed in apostrophes or a symbol
                         addressing an 8 byte member name.

          ,NEWNAME=new   new: Member name enclosed in apostrophes or a symbol
                         addressing an 8 byte member name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Rename member 'XYZ' to 'ABC'.

                                 LMMREN DATAID='ABC',MEMBER='XYZ',       X
                                       NEWNAME='ABC'
1


      ISPF Dialog Manager Assembler Macros                               Page 89
      LMMREP



      ____________
      |          |
      |          |
      |  LMMREP  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMMREP.
      LMMREP
      b                  one or more blanks must follow LMMREP.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid enclosed in apostrophes or a symbol
                         addressing an 8 byte dataid.

          ,MEMBER=mem    mem: Member name enclosed in apostrophes or a symbol
                         addressing an 8 byte member name.

          ,STATS=stats   stats: YES or NO enclosed in apostrophes or a symbol
                         addressing an 8 byte field containing YES or NO.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Replace member 'xyz'

                                 LMMREP DATAID='ABC',MEMBER='XYZ',       X
                                       STATS='ON'
1


      ISPF Dialog Manager Assembler Macros                               Page 90
      LMOPEN



      ____________
      |          |
      |          |
      |  LMOPEN  |
      |          |
      |__________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMOPEN.
      LMOPEN
      b                  one or more blanks must follow LMOPEN.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid name enclosed in apostrophes or a
                         symbol addressing an 8 byte Dataid name.

          ,OPTION=INPUT  INPUT: Optional keyword coded as shown.
          ,OPTION=OUTPUT OUTPUT:  Optional keyword coded as shown.
                         Do not enclose in apostrophes.
                         Select only one of these keywords.
                         Default: see ISPF Dialog Management Services manual.

          ,LRECL=lrecl   lrecl: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,RECFM=recfm   recfm: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ORG=org       org: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Open a dataset for output. The dataid of
                         the dataset is found at symbol DATAID.

                                 LMOPEN DATAID=DATAID,OPTION=OUTPUT
                         DATAID  DS    CL8
1


      ISPF Dialog Manager Assembler Macros                               Page 91
      LMPUT



      ___________
      |         |
      |         |
      |  LMPUT  |
      |         |
      |_________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMPUT.
      LMPUT
      b                  one or more blanks must follow LMPUT.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid name enclosed in apostrophes or a
                         symbol addressing an 8 byte Dataid name.

      ,MODE=mode         mode: Mode enclosed in apostrophes or a symbol
                         addressing an 8 byte mode.

      ,DATALOC=dataloc   dataloc: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

      ,DATALEN=datalen   datalen: Numeric value or symbol address a fullword.

      ,NOBSCAN='NOBSCAN' NOBSCAN: Must be coded as shown in apostrophes.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Write to a dataset the current userid.

                                 LMPUT DATAID=DATAID,DATALOC='ZUSER',    X
                                       DATALEN=8
                         DATAID  DS    CL8
1


      ISPF Dialog Manager Assembler Macros                               Page 92
      LMQUERY



      _____________
      |           |
      |           |
      |  LMQUERY  |
      |           |
      |___________|




      _________________________________________________________________________

          name           name: symbol. Begin "name" in column 1.

      b                  one or more blanks must precede LMQUERY.
      LMQUERY
      b                  one or more blanks must follow LMQUERY.

      _________________________________________________________________________

      DATAID=dataid      dataid: Dataid name enclosed in apostrophes or a
                         symbol addressing an 8 byte dataid name.

          ,PROJECT=proj  proj: Project name enclosed in apostrophes or a
                         symbol addressing an 8 byte project name.

          ,GROUP1=g1     g1: Variable name enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,GROUP2=g2     g2: Variable name enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,GROUP3=g3     g3: Variable name enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,GROUP4=g4     g4: Variable name enclosed in apostrophes or a symbol
                         addressing an 8 byte variable name.

          ,TYPE=type     type: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,DATASET=dsn   dsn: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,DDNAME=ddname ddname: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,VOLUME=vol    vol: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,ENQ=enq       enq: Variable name enclosed in apostrophes or a
                         symbol addressing an 8 byte variable name.

          ,LOAD=address  address: A symbol addressing a 4 byte adcon of the
                         ISPLINK entry address.
1


      ISPF Dialog Manager Assembler Macros                               Page 93
      LMQUERY



                         Default symbol ISPLINK is generated by ISPF macro.

          ,MF=E          MF=E: Requests the execute form of the macro.
          ,MF=(E,parms)  parms: Address of a parmlist for the execute form.
                         Default symbol SPFPARMS is generated by ISPF macro.

      _________________________________________________________________________

      Example 1:         Operation: Query the ddname for dataid ISR00009. The
                         ddname, if any, should be returned in variable "DDN".

                                 LMQUERY DATAID='ISR00009',DDNAME='DDN'
1


      ISPF Dialog Manager Assembler Macros                               Page 94










      _________________________________________________________________________
      |                                                                       |
      |                                                                       |
      |           ISPF Dialog Manager Assembler Macros - Appendices           |
      |                              Version 2.0                              |
      |                                                                       |
      |_______________________________________________________________________|
1


      ISPF Dialog Manager Assembler Macros                               Page 95
      Appendix A - Example Program



      __________________________________
      |                                |
      |                                |
      |  Appendix A - Example Program  |
      |                                |
      |________________________________|




      _________________________________________________________________________


      The following is an example dialog program including macro expansions.  It
      will display a panel called PANLEL1 and do some processing based on the
      display.


        *
        *
        * (standard entry code)
        *
        *
                  ISPF  LOAD                     LOAD THE ISPLINK MODULE
        +         CNOP  0,4                      * GENERATED BY LOAD MACRO *
        +         LA    0,*+8                    LOAD PARAMETER INTO REG 0
        +         B     *+12                     BRANCH AROUND CONSTANT(S)
        +         DC    CL8'ISPLINK'             ENTRY POINT NAME
        +         SR    1,1                      SHOW NO DCB PRESENT
        +         SVC   8
        +         ST    0,ISPLINK                STORE ISPLINK ADDRESS

                  CONTROL ERRORS,CANCEL          SET ISPF ERROR MODE TO CANCEL
        +         B     SPF0003
        +CONTROL  DC    CL8'CONTROL'             CONTROL KEYWORD FOR ISPF
        +ERRORS   DC    CL8'ERRORS'              CONTROL KEYWORD FOR ISPF
        +CANCEL   DC    CL8'CANCEL'              CONTROL KEYWORD FOR ISPF
        +SPF0003  DS    0H
        +         CNOP  0,4
        +         BAL   1,SPFE0003               BRANCH AROUND PARMLIST
        +         DC    A(CONTROL)               ADDRESS OF CONTROL KEYWORD
        +         DC    A(ERRORS)                ADDRESS OF ERRORS OPERAND
        +         DC    A(CANCEL+X'80000000')    ADDRESS OF CANCEL OPERAND
        +SPFE0003 DS    0H
        +         L     15,ISPLINK               GET ISPLINK ENTRY POINT
        +         BALR  14,15                    CALL ISPF

         LOOP     DISPLAY PANEL='PANELA'         DISPLAY PANEL CALLED PANELA
        +LOOP     DS    0H
        +         B     SPF0004
        +DISPLAY  DC    CL8'DISPLAY'             DISPLAY KEYWORD FOR ISPF
        +SPFP0005 DC    CL8'PANELA'              DISPLAY THIS PANEL
        +SPFNULLC DC    CL8' '                   DUMMY ISPF FIELD
        +SPFNULLF DC    F'0'                     DUMMY ISPF FIELD
        +SPF0004  DS    0H
1


      ISPF Dialog Manager Assembler Macros                               Page 96
      Appendix A - Example Program



        +         CNOP  0,4
        +         BAL   1,SPFE0004               BRANCH AROUND PARMLIST
        +         DC    A(DISPLAY)               DISPLAY KEYWORD
        +         DC    A(SPFP0004)              ADDRESS OF GENERATED PANEL
        +         DC    A(SPFNULLC)              DUMMY PARM FOR MSG
        +         DC    A(SPFNULLC)              DUMMY PARM FOR FIELD
        +         DC    A(SPFNULLF+X'80000000')  DUMMY PARM FOR CSRPOS
        +SPFE0004 DS    0H
        +         L     15,ISPLINK               GET ISPLINK ENTRY POINT
        +         BALR  14,15                    CALL ISPF

                  LTR   15,15                    WAS END KEY HIT
                  BNZ   EXITPGM                  IF SO, EXIT PROGRAM

                  CONTROL ERRORS,RETURN          SET ISPF ERROR MODE TO CANCEL
        +         B     SPF0005
        +RETURN   DC    CL8'RETURN'              CONTROL KEYWORD FOR ISPF
        +SPF0005  DS    0H
        +         CNOP  0,4
        +         BAL   1,SPFE0005               BRANCH AROUND PARMLIST
        +         DC    A(CONTROL)               ADDRESS OF CONTROL KEYWORD
        +         DC    A(ERRORS)                ADDRESS OF ERRORS OPERAND
        +         DC    A(RETURN+X'80000000')    ADDRESS OF CANCEL OPERAND
        +SPFE0005 DS    0H
        +         L     15,ISPLINK               GET ISPLINK ENTRY POINT
        +         BALR  14,15                    CALL ISPF

        *
        * (other processing code)
        * (go to display loop)

        *
        *         EXIT  PROGRAM CODE

         EXITPGM  ISPF  DELETE
        +         BAL   0,*+12                   LOAD ADDRESS OF EP SYMBOL
        +         DC    CL8'ISPLINK'             EP SYMBOL
        +         SVC   9                        ISSUE DELETE SVC

        *
        * (standard exit code)

        *
        *         WORKING STORAGE
                  ISPF  PARMS                    GENERATE ISPF WORKING STORAGE
        +ISPLINK  DS    A                        USED FOR ISPLINK ENTRY POINT
1


      ISPF Dialog Manager Assembler Macros                               Page 97
      Appendix B - Using the macros with existing programs



      __________________________________________________________
      |                                                        |
      |                                                        |
      |  Appendix B - Using the macros with existing programs  |
      |                                                        |
      |________________________________________________________|




      _________________________________________________________________________


      The following is an example dialog program.  The ISPLINK entry point is
      already loaded into the address ISPADD.  The parameter-list is already
      coded and labeled PARMLIST.  The execute form of the macro will be used.


        *
        *
        * (regular program code)
        *
        *
                  ISPF  SUPPRESS,LIST=(CONTROL,ERRORS,CANCEL)
                  CONTROL ERRORS,CANCEL,LOAD=ISPADD
        +         CNOP  0,4
        +         BAL   1,SPFE0003               BRANCH AROUND PARMLIST
        +         DC    A(CONTROL)               ADDRESS OF CONTROL KEYWORD
        +         DC    A(ERRORS)                ADDRESS OF ERRORS OPERAND
        +         DC    A(CANCEL+X'80000000')    ADDRESS OF CANCEL OPERAND
        +SPFE0003 DS    0H
        +         L     15,ISPADD                GET ISPLINK ENTRY POINT
        +         BALR  14,15                    CALL ISPF

                  ISPF  SUPPRESS,LIST=DISPLAY
                  DISPLAY PANEL='PANELA',MF=(E,PARMLIST)
        +         B     SPF0004
        +SPFP0005 DC    CL8'PANELA'              DISPLAY THIS PANEL
        +SPFNULLC DC    CL8' '                   DUMMY ISPF FIELD
        +SPFNULLF DC    F'0'                     DUMMY ISPF FIELD
        +SPF0004  DS    0H
        +         LA    14,DISPLAY               GET DISPLAY KEYWORD ADDRESS
        +         LA    15,SPFP0004              GET GENERATED PANEL ADDRESS
        +         LA    0,SPFNULLC               DUMMY PARM FOR MSG
        +         LA    1,SPFNULLC               DUMMY PARM FOR FIELD
        +         STM   14,1,PARMLIST            STORE INTO PARMLIST
        +         LA    14,SPFNULLF              DUMMY PARM FOR CSRPOS
        +         ST    14,PARMLIST+16           STORE INTO PARMLIST
        +         OI    PARMLIST+16,X'80'        MARK LAST PARM
        +         LA    1,PARMLIST               GET PARAMETER LIST ADDRESS
        +         L     15,ISPADD                GET ISPLINK ENTRY POINT
        +         BALR  14,15                    CALL ISPF
